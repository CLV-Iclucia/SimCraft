project(Fluid LANGUAGES CXX CUDA)
file(GLOB_RECURSE srcs CONFIGURE_DEPENDS src/*.cc src/*.cpp include/*.h)
add_library(Fluid STATIC ${srcs})
target_include_directories(Fluid PUBLIC include)
target_include_directories(Fluid PUBLIC "../external/imgui")
target_include_directories(Fluid PUBLIC ${CMAKE_CUDA_TOOLKIT_INCLUDE_DIRECTORIES})
target_link_libraries(Fluid PUBLIC Core Eigen3::Eigen)
target_compile_options(Fluid PUBLIC $<$<COMPILE_LANGUAGE:CUDA>:--extended-lambda>)
add_executable(fluid-app-gl src/app-gl.cc)
target_link_libraries(fluid-app-gl PUBLIC imgui imgui_impl_glfw imgui_impl_opengl3 Fluid glfw3)